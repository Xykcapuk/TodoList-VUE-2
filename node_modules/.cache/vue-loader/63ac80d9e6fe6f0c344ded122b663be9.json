{"remainingRequest":"C:\\Projects\\TODOList (VUE 2x)\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projects\\TODOList (VUE 2x)\\src\\pages\\todoListPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Projects\\TODOList (VUE 2x)\\src\\pages\\todoListPage.vue","mtime":1626450475304},{"path":"C:\\Projects\\TODOList (VUE 2x)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\TODOList (VUE 2x)\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\TODOList (VUE 2x)\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Projects\\TODOList (VUE 2x)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\TODOList (VUE 2x)\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYXlqcyBmcm9tICdkYXlqcycKaW1wb3J0IGxvY2Fsc3RvcmFnZSBmcm9tICdsb2NhbC1zdG9yYWdlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ0b2RvTGlzdFBhZ2UiLAogIGVsZTogJyNhcHAnLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgdGV4dERhdGU6ICcnLAogICAgICB0ZXh0SW5wdXQ6ICcnLAogICAgICB0ZXh0RWRpdERhdGU6ICcnLAogICAgICB0ZXh0RWRpdFRleHQ6ICcnLAogICAgICBpbmRleEVkaXQ6IG51bGwsCiAgICAgIGZpbHRlckRhdGU6ICcnLAogICAgICBzZWxlY3RlZDogJycsCiAgICAgIHNlYXJjaDogJycsCiAgICAgIGxpc3Q6IFsKICAgICAgXQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVGaWVsZHMoKSB7CiAgICAgIHJldHVybiB0aGlzLnRleHRJbnB1dCA9PT0gJycgfHwgdGhpcy50ZXh0RGF0ZSA9PT0gJycKICAgIH0sCiAgICBhZGQoKSB7CiAgICAgIHRoaXMubGlzdC5wdXNoKHsKICAgICAgICBjaGVjazogZmFsc2UsCiAgICAgICAgZGF0ZTogdGhpcy50ZXh0RGF0ZSwKICAgICAgICB0ZXh0OiB0aGlzLnRleHRJbnB1dAogICAgICB9KQogICAgICBsb2NhbHN0b3JhZ2Uuc2V0KCdsaXN0JywgdGhpcy5saXN0KQogICAgICB0aGlzLnRleHRJbnB1dCA9ICcnCiAgICB9LAogICAgY2xlYXIoKSB7CiAgICAgIHRoaXMubGlzdCA9IFtdCiAgICAgIGxvY2Fsc3RvcmFnZS5zZXQoJ2xpc3QnLCB0aGlzLmxpc3QpCiAgICB9LAogICAgZWRpdChpbmRleCkgewogICAgICB0aGlzLmluZGV4RWRpdCA9IGluZGV4CiAgICAgIHRoaXMudGV4dEVkaXREYXRlID0gdGhpcy5saXN0W2luZGV4XS5kYXRlCiAgICAgIHRoaXMudGV4dEVkaXRUZXh0ID0gdGhpcy5saXN0W2luZGV4XS50ZXh0CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLmZvY3VzSW5wdXRbMF0uZm9jdXMoKQogICAgICB9KQogICAgfSwKICAgIHNhdmUoKSB7CiAgICAgIHRoaXMubGlzdFt0aGlzLmluZGV4RWRpdF0uZGF0ZSA9IHRoaXMudGV4dEVkaXREYXRlCiAgICAgIHRoaXMubGlzdFt0aGlzLmluZGV4RWRpdF0udGV4dCA9IHRoaXMudGV4dEVkaXRUZXh0CiAgICAgIHRoaXMuaW5kZXhFZGl0ID0gbnVsbAogICAgfSwKICAgIGVzYygpIHsKICAgICAgdGhpcy5pbmRleEVkaXQgPSBudWxsCiAgICB9LAogICAgZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgIHJldHVybiBkYXlqcyhkYXRlKS5mb3JtYXQoJ0RELk1NLllZWVknKQogICAgfSwKICAgIGRlbChpbmRleCkgewogICAgICB0aGlzLmxpc3Quc3BsaWNlKGluZGV4LCAxKQogICAgICBsb2NhbHN0b3JhZ2Uuc2V0KCdsaXN0JywgdGhpcy5saXN0KQogICAgfSwKICAgIGNoZWNrZWQoKSB7CiAgICAgIC8vIHRoaXMubGlzdFtpbmRleF0uY2hlY2sgPSAhdGhpcy5saXN0W2luZGV4XS5jaGVjawogICAgICBsb2NhbHN0b3JhZ2Uuc2V0KCdsaXN0JywgdGhpcy5saXN0KQogICAgfSwKICAgIGZpbHRlckxpc3QoKSB7CiAgICAgIHRoaXMubGlzdCA9IHRoaXMubGlzdC5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50LmRhdGUgPT09IHRoaXMuZmlsdGVyRGF0ZSkKICAgICAgY29uc29sZS5sb2codGhpcy5maWx0ZXJEYXRlKQogICAgfSwKICAgIGdldExpc3RMb2NhbCgpIHsKICAgICAgY29uc3QgZGF0YSA9IGxvY2Fsc3RvcmFnZS5nZXQoJ2xpc3QnKQogICAgICBpZiAoZGF0YSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KGRhdGEpKQogICAgICAgIHRoaXMubGlzdCA9IGxvY2Fsc3RvcmFnZS5nZXQoJ2xpc3QnKQogICAgfSwKICAgIHJlc2V0KCkgewogICAgICB0aGlzLmdldExpc3RMb2NhbCgpCiAgICB9LAogICAgc29ydExpc3QoKSB7CiAgICAgIGNvbnN0IHNvcnRPcHRpb24gPSAoYSxiKSA9PiB7IHJldHVybiBuZXcgRGF0ZShhLmRhdGUpIC0gbmV3IERhdGUoYi5kYXRlKSB9CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkID09PSAnQWInKQogICAgICAgIHRoaXMubGlzdCA9IHRoaXMubGlzdC5zb3J0KChhLCBiKSA9PiBzb3J0T3B0aW9uKGEsYikpIDsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQgPT09ICdaeScpCiAgICAgICAgdGhpcy5saXN0ID0gdGhpcy5saXN0LnNvcnQoKGEsIGIpID0+IHNvcnRPcHRpb24oYixhKSk7CiAgICB9LAogICAgc2VhcmNoTGluZSgpIHsKICAgICAgY29uc3QgYnVmID0gbG9jYWxzdG9yYWdlLmdldCgnbGlzdCcpCiAgICAgIHRoaXMubGlzdCA9IGJ1Zi5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50LnRleHQgPT09IHRoaXMuc2VhcmNoKQogICAgICBpZiAodGhpcy5zZWFyY2ggPT09ICcnKSB0aGlzLmxpc3QgPSBidWYKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldExpc3RMb2NhbCgpCiAgfQp9Cg=="},{"version":3,"sources":["todoListPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"todoListPage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"wrapper\">\n\n    <div class=\"container-search\">\n      <input class=\"input-search\" v-model=\"search\" @input=\"searchLine()\" placeholder=\"Поиск\"/>\n    </div>\n\n    <div class=\"container-main\">\n      <div class=\"sort-block\">\n        <input class=\"input-date\" type=\"date\" v-model=\"filterDate\" @change=\"filterList()\">\n        <select v-model=\"selected\" @change=\"sortList()\">\n          <option disabled value=\"\">Выберите вариант сортировки</option>\n          <option value=\"Ab\">От старых к новым</option>\n          <option value=\"Zy\">От новых к старым</option>\n        </select>\n        <button @click=\"reset()\">Сбросить</button>\n      </div>\n\n      <div class=\"add-block\">\n        <input type=\"date\" v-model=\"textDate\">\n        <input v-model=\"textInput\" placeholder=\"Наименование задачи\"/>\n        <button :disabled =\"validateFields()\" @click=\"add()\">Добавить запись</button>\n        <button :disabled =\"list.length === 0\" @click=\"clear()\">Удалить список</button>\n      </div>\n\n      <div class=\"text-block\">\n        <p v-if=\"validateFields()\">Чтобы добавить запись, заполните все поля</p>\n      </div>\n    </div>\n\n    <div class=\"container-ul\">\n      <ul v-if=\"list.length\">\n        <li v-for=\"(item, index) in list\" :key=\"index\" :class=\"{'completed': item.check}\">\n          <input class=\"check-box\" type=\"checkbox\" v-model=\"item.check\" @change=\"checked(index)\"/>\n          <div v-if=\"indexEdit === index\" @keyup.esc=\"esc()\" @keyup.enter=\"save(index)\">\n            <input type=\"date\" v-model=\"textEditDate\"/>\n            <input v-model=\"textEditText\" ref=\"focusInput\"/>\n            <button @click=\"save(index)\">Сохранить</button>\n          </div>\n          <div v-else>\n            <span class=\"text-date-line\">\n              {{ formatDate(item.date) }} {{ item.text }}\n            </span>\n            <button @click=\"edit(index)\" :disabled=\"item.check\">Редактировать</button>\n          </div>\n          <button @click=\"del(index)\">Удалить строку</button>\n        </li>\n      </ul>\n      <p class=\"clear-list\" v-else>\n        Записей нет!!!\n      </p>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport dayjs from 'dayjs'\nimport localstorage from 'local-storage'\n\nexport default {\n  name: \"todoListPage\",\n  ele: '#app',\n  data () {\n    return {\n      textDate: '',\n      textInput: '',\n      textEditDate: '',\n      textEditText: '',\n      indexEdit: null,\n      filterDate: '',\n      selected: '',\n      search: '',\n      list: [\n      ]\n    }\n  },\n  methods: {\n    validateFields() {\n      return this.textInput === '' || this.textDate === ''\n    },\n    add() {\n      this.list.push({\n        check: false,\n        date: this.textDate,\n        text: this.textInput\n      })\n      localstorage.set('list', this.list)\n      this.textInput = ''\n    },\n    clear() {\n      this.list = []\n      localstorage.set('list', this.list)\n    },\n    edit(index) {\n      this.indexEdit = index\n      this.textEditDate = this.list[index].date\n      this.textEditText = this.list[index].text\n      this.$nextTick(() => {\n        this.$refs.focusInput[0].focus()\n      })\n    },\n    save() {\n      this.list[this.indexEdit].date = this.textEditDate\n      this.list[this.indexEdit].text = this.textEditText\n      this.indexEdit = null\n    },\n    esc() {\n      this.indexEdit = null\n    },\n    formatDate(date) {\n      return dayjs(date).format('DD.MM.YYYY')\n    },\n    del(index) {\n      this.list.splice(index, 1)\n      localstorage.set('list', this.list)\n    },\n    checked() {\n      // this.list[index].check = !this.list[index].check\n      localstorage.set('list', this.list)\n    },\n    filterList() {\n      this.list = this.list.filter(element => element.date === this.filterDate)\n      console.log(this.filterDate)\n    },\n    getListLocal() {\n      const data = localstorage.get('list')\n      if (data !== null && Array.isArray(data))\n        this.list = localstorage.get('list')\n    },\n    reset() {\n      this.getListLocal()\n    },\n    sortList() {\n      const sortOption = (a,b) => { return new Date(a.date) - new Date(b.date) }\n      if (this.selected === 'Ab')\n        this.list = this.list.sort((a, b) => sortOption(a,b)) ;\n      if (this.selected === 'Zy')\n        this.list = this.list.sort((a, b) => sortOption(b,a));\n    },\n    searchLine() {\n      const buf = localstorage.get('list')\n      this.list = buf.filter(element => element.text === this.search)\n      if (this.search === '') this.list = buf\n    }\n  },\n  mounted() {\n    this.getListLocal()\n  }\n}\n</script>\n\n<style scoped>\n.wrapper {\n  background: rgb(152,144,108);\n  background: radial-gradient(circle, rgba(152,144,108,0.39051421349789917) 71%, rgba(242,253,45,0.33169068408613445) 100%);\n  flex-grow: 0;\n  padding: 20px;\n  border-radius: 20px;\n  min-width: 735px;\n}\n\n/*Search*/\n.container-search {\n  text-align: center;\n  margin-bottom: 15px;\n}\n.input-search {\n  text-align: left;\n  width: 25vw;\n}\n/*Main*/\n.container-main {\n  border-bottom: 2px solid #fdbb2d;\n}\n.sort-block {\n  text-align: center;\n}\n.text-block {\n  text-align: center;\n  font-size: 24px;\n}\ninput, select, button {\n  font-size: 15px;\n  font-family: \"Comic Sans MS\", sans-serif;\n  min-height: 4vh;\n  border-radius: 10px;\n  margin: 5px;\n}\nbutton:hover {\n}\nbutton:hover:enabled {\n  color: #fdbb2d;\n}\n\n/*UL&LI*/\nli {\n  display: flex;\n  justify-content: left;\n}\n.check-box {\n  width: 18px;\n  /*border-radius: 10px;*/\n}\n.text-date-line {\n  font-size: 20px;\n  font-family: \"Comic Sans MS\", sans-serif;\n  padding: 5px;\n}\n/**/\n.clear-list {\n  text-align: center;\n  font-size: 24px;\n}\n</style>"]}]}